# แบบประเมินการทดสอบระบบ (Acceptance Checklist)
**รุ่นระบบ:** Sales & Accounting Workflow Update (Idempotency & Thai UI)
**เป้าหมาย:** ตรวจสอบความถูกต้องของกระบวนการออกเอกสารขายและการบันทึกบัญชี

---

### 1. บัญชีผู้ใช้งานและการเข้าถึง (Login & Access)
- [ ] **ลองเข้าสู่ระบบด้วยบัญชีที่ยังไม่อนุมัติ (Pending):** ระบบต้องขึ้นเตือน "บัญชียังไม่อนุมัติ" และเด้งกลับหน้า Login ทันที
- [ ] **การเข้าถึงหน้าจัดการ (Permissions):** แผนกออฟฟิศต้องไม่เห็นเมนู "บัญชีเงินสด/ธนาคาร" และ "ตั้งค่าระบบ" (ยกเว้น Admin)

### 2. การออกใบส่งของและใบกำกับภาษี (Sales Documents)
- [ ] **สร้างใบส่งของชั่วคราว (DN):**
    - ต้องเลือก "ช่องทางรับเงิน" และ "บัญชีที่คาดว่าจะเข้า" ได้
    - เลือก "ต้องวางบิล" ได้เฉพาะลูกค้าเครดิต
- [ ] **ส่งตรวจสอบ (Submit for Review):** เมื่อกด "ส่งบัญชีตรวจสอบ" สถานะเอกสารต้องเป็น "รอตรวจสอบโดยฝ่ายบัญชี"
- [ ] **ตัวเลือกภาษา:** ทุกปุ่มและช่องกรอกข้อมูลในหน้าฟอร์ม (DN/TI/QT/RE) ต้องเป็นภาษาไทยทั้งหมด

### 3. การตรวจสอบโดยฝ่ายบัญชี (Accounting Inbox)
- [ ] **รายการรอตรวจสอบ:** เอกสารที่ออฟฟิศส่งมาต้องปรากฏในเมนู "Inbox บัญชี" ตามประเภท (เงินสด/เครดิต)
- [ ] **การยืนยันรายการ (Idempotency):**
    - ลองกดยืนยันรับเงินใบเดิม 2 ครั้ง (หรือรีเฟรชแล้วกดซ้ำ) -> ระบบต้องแจ้งว่า "รายการนี้ถูกยืนยันไปแล้ว" และไม่สร้างรายการซ้ำในสมุดบัญชี
    - ตรวจสอบในหน้า "รับ-จ่ายเงิน" (Cashbook) -> ต้องมีรายการบัญชีเพียง 1 รายการต่อบิล 1 ใบ
- [ ] **การตีกลับเอกสาร (Dispute):**
    - เมื่อฝ่ายบัญชีกด "ตีกลับ" ออฟฟิศต้องเห็นสถานะเป็น "ตีกลับเพื่อแก้ไข" พร้อมเหตุผล
    - เมื่อออฟฟิศแก้แล้วกด "ส่งใหม่" -> เหตุผลเดิมต้องหายไป และรายการต้องกลับเข้าคิวฝ่ายบัญชีทันที

### 4. ระบบเงินสดหน้าร้าน (Cash Drawer)
- [ ] **เปิด-ปิดรอบ:**
    - เปิดรอบได้เพียง 1 รอบในเวลาเดียวกัน
    - บันทึกรายการ รับ/จ่าย พร้อมแนบรูปถ่ายได้
- [ ] **การปิดรอบและคืนเงิน:**
    - เมื่อปิดรอบ ระบบต้องคำนวณ "ยอดที่ควรมี" มาเทียบกับ "ยอดที่นับได้จริง"
    - สถานะต้องเปลี่ยนเป็น "ปิดรอบแล้ว (รอนำส่งเงินคืน)" และแก้ไขรายการไม่ได้

### 5. การดูและพิมพ์เอกสาร (Document Management)
- [ ] **ลิงก์ดูเอกสาร:** กด "ดู" จากหน้าใดก็ตาม (รายการ, Inbox, ใบวางบิล) ต้องเปิดดูเอกสารได้ถูกต้อง ไม่เจอหน้า 404
- [ ] **หน้าพรีวิว:** ข้อมูลชื่อร้านและเลขผู้เสียภาษีในเอกสารต้องแสดงผลถูกต้องตามที่ตั้งค่าไว้

---
**หมายเหตุ:** หากพบจุดที่ไม่เป็นไปตาม Checklist นี้ กรุณาแจ้งทีมพัฒนาทันที